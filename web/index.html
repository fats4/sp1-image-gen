<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SP1 Image Generator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="retro-pink.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Main Menu -->
        <div id="main-menu" class="screen active">
            <div class="content">
                <div class="logo-container">
                    <img src="assets/succin.jpg" alt="SP1 Image Gen Logo" class="main-logo">
                </div>
                <p>Generate Verified Images with SP1 ZK Technology</p>
                <div class="button-container">
                    <button id="start-gen-btn" class="primary-btn">Generate Image</button>
                    <button id="verify-image-btn" class="secondary-btn">Verify an Image</button>
                    <button id="how-to-btn" class="secondary-btn">How It Works?</button>
                </div>
            </div>
        </div>

        <!-- Generator Screen -->
        <div id="generator-screen" class="screen">
            <div class="content">
                <h1>Image Generator</h1>
                <div class="generator-form">
                    <div class="form-group">
                        <label for="prompt-input">Prompt:</label>
                        <textarea id="prompt-input" placeholder="Describe the image you want to generate..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Image Size:</label>
                        <select id="size-select">
                            <option value="512x512">512 x 512</option>
                            <option value="768x768">768 x 768</option>
                            <option value="1024x1024">1024 x 1024</option>
                        </select>
                    </div>
                </div>
                <div class="button-container">
                    <button id="generate-btn" class="primary-btn">Generate</button>
                    <button id="back-btn" class="secondary-btn" onclick="window.goToMainMenu()">Back</button>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="screen">
            <div class="content">
                <h1>Generated Image</h1>
                <div id="image-container">
                    <!-- Generated image will be displayed here -->
                </div>
                <div id="proof-container">
                    <!-- SP1 Proof details will be shown here -->
                </div>
                <div class="button-container">
                    <button id="download-btn" class="primary-btn" onclick="downloadImage()">Download</button>
                    <button id="share-btn" class="secondary-btn" onclick="shareContent()">Share</button>
                    <button id="new-gen-btn" class="secondary-btn">New Generation</button>
                </div>
            </div>
        </div>

        <!-- How It Works Screen -->
        <div id="how-to-play" class="screen">
            <div class="content">
                <div class="header">
                    <h2>How It Works</h2>
                    <a href="javascript:void(0)" class="close-btn" id="close-how-to" onclick="window.location.href='#'; safeShowScreen('main-menu');">✖</a>
                </div>
                
                <div class="how-to-content">
                    <div class="step">
                        <h3>1. Generate an Image</h3>
                        <p>Enter a prompt describing the image you want to create. Our AI will generate a unique image based on your description.</p>
                    </div>
                    
                    <div class="step">
                        <h3>2. Create a Zero-Knowledge Proof</h3>
                        <p>SP1 technology creates a cryptographic proof that verifies the exact prompt used to generate this specific image. The proof establishes a cryptographically secure link between the prompt text and the output image without revealing the proprietary details of the AI model.</p>
                        
                        <div class="tech-details">
                            <div class="zk-flow-diagram">
                                <div class="node">PROMPT</div>
                                <div class="arrow">→</div>
                                <div class="node">HASH</div>
                                <div class="arrow">→</div>
                                <div class="node">ZK CIRCUIT</div>
                            </div>
                            <div class="zk-flow-diagram">
                                <div class="node">IMAGE</div>
                                <div class="arrow">→</div>
                                <div class="node">HASH</div>
                                <div class="arrow">→</div>
                                <div class="node">ZK CIRCUIT</div>
                            </div>
                            <p>Both the prompt and image are hashed, and the SP1 zero-knowledge circuit verifies that this specific combination represents a valid generation without revealing the internal AI processes.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3>3. Verify and Share</h3>
                        <p>The proof can be verified by anyone without requiring access to the original generation process. Share your image with its proof for complete authenticity.</p>
                    </div>
                    
                    <div class="tech-details">
                        <h3>Technical Details</h3>
                        <p>This application uses SP1, a zero-knowledge proof system developed by Succinct Labs. The proof is generated using a RISC-V virtual machine that runs inside the ZK circuit.</p>
                    </div>
                </div>
                
                <button id="home-btn" class="primary-btn" onclick="window.goToMainMenu()">Back to Home</button>
            </div>
        </div>
    </div>

    <!-- Proof Panel -->
    <div id="proof-panel" class="hidden">
        <div class="panel-header">
            <h2>SP1 Zero-Knowledge Proof Terminal</h2>
            <a href="javascript:void(0)" class="close-btn" onclick="document.getElementById('proof-panel').classList.add('hidden')">✖</a>
        </div>
        <div id="proof-log"></div>
    </div>

    <script src="sp1-bridge.js"></script>
    <script src="app.js"></script>
</body>
</html>